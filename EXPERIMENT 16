LXI H, 8050
MOV C, M
DCR C

LOOP1: LXI H, 8051
MOV B, C

LOOP2: MOV A, M
INX H
CMP M
JC SKIP

MOV D, M
MOV M, A
DCX H
MOV M, D
INX H

SKIP: DCR B
JNZ LOOP2
DCR C
JNZ LOOP1
HLT